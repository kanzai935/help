---
title: "コンテナイメージ管理"
description: "Alibaba Cloudでコンテナを活用する際のコンテナイメージ管理手法を紹介します。"
date: 2019-08-13T16:20:40+09:00
weight: 30
draft: false
---
## 開発フロー
1. 開発環境
1. コンテナイメージ管理
1. コンテナデプロイ管理
1. ログ管理とモニタリング

## コンテナイメージ管理
  - プライベート環境
  - パブリックサービス
  - Alibaba Cloudでの選択肢

### プライベート環境
プライベート環境（i.e.外部公開していないサーバ)にてコンテナをビルドする時には、まず自前でビルドスクリプトを作成します。その後に
Jenkinsなどのパイプラインツールを用いて、コードソースの変更を検知して
ビルドスクリプトを実行するようにトリガー設定するのが一般的です。
ビルドスクリプト完了後にコンテナイメージが作成されると、イメージリポジトリにプッシュするようにします。
また後述するパブリックサービスのパッケージをダウンロードして、プライベートサーバとして立てる事も可能です。

- イメージビルド
  - Jenkins/JenkinsX
  - GitLabCI
  - CircleCI Enterprise
- イメージレジストリ
  - Docker Trusted Registry

### パブリックサービス
パブリック環境で立てる時でも、自前でビルドスクリプトを作成する点は変更ありません。
ただパブリックサービス環境変数やワークフロー処理が事前に多く用意されていたり、YAMLという設定ファイルだけで
利用可能であったりする為、Jenkins等のパイプラインツールよりも簡素になる事が多いです。何よりサーバの管理が不要な為、
利便性に優れていると言えます。

- イメージビルド
  - CircleCI
  - TravisCI
- イメージレジストリ
  - Dockerhub

### Alibaba Cloudでの選択肢
Alibaba CloudではContainer Registryというイメージサービスの機能の一つとしてコンテナのビルドが実行できます。
Container RegistryはGithub/Gitlab/Bitbucketのソースコードを読み取り、自動でビルドを実行して
イメージをリポジトリにプッシュします。特徴的なのは他のサービスでは必要となるビルドスクリプトの作成や
YAMLファイルが一切不要で、GUI操作のみで一貫してビルドからプッシュまでを設定できる点です。
この為、Container Registryは有用な選択肢の一つと言えるでしょう。

- イメージビルド・レジストリ
  - Container Registry

## 参考リンク一覧
